# openocd.cfg - OpenOCD 配置文件 for nRF52840
# 接口配置 - 根据你的调试器选择

# 选项 1: J-Link (推荐，如果你有 J-Link)
source [find interface/jlink.cfg]

# 选项 2: CMSIS-DAP (如果你使用 DAPLink/CMSIS-DAP 调试器)
# source [find interface/cmsis-dap.cfg]

# 选项 3: ST-Link (如果你使用 ST-Link)
# source [find interface/stlink.cfg]

# 传输协议
transport select swd

# 目标芯片配置
source [find target/nrf52.cfg]

# 工作区域大小（用于 Flash 编程）
set WORKAREASIZE 0x4000

# 复位配置（简化配置，先尝试基本复位）
reset_config srst_only

# 适配器速度（可以根据需要调整，nRF52840 支持更高速度）
adapter speed 4000

# 初始化脚本（必须放在最后）
init